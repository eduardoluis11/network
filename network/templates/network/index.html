{% extends "network/layout.html" %}

<!-- This "load static" removed the error message caused by the "static" keyword 
on the src attribute that calls the JS file (source: thedeleted account that replied 
to Carual's post:
https://www.reddit.com/r/django/comments/f12r0r/invalid_block_tag_on_line_17_static_did_you/ ) -->
{% load static %}

{% block body %}


    <!-- I will make the index.html file the “All Posts” page. -->
    <h1>All Posts</h1>

    <!-- I will add the csrf token. For that, I will add the <form> tags in the page that will let me create posts.
    However, the form itself will be created using Django forms. For that, I will create a file called forms.py, and
    create the form there.

    I will add the form for creating a post here in the “All Posts” page.

    I will only render the form for creating a post if the user’s logged in. I should add a “login required” decorator
    in the index.html file for the <form> tag (source: my "commerce" homework submission:
    https://github.com/me50/eduardoluis11/tree/web50/projects/2020/x/commerce .)

    I will use the "as_p" notation while calling the form so that the format looks good in different screen
    sizes.

    I will print a success message if the user creates a post.-->
    {% if user.is_authenticated %}
        <p style="color: green;">{{post_creation_success_message}}</p>

        <form method="post">
            {% csrf_token %}

            {{form.as_p}}   <!-- Django form -->

            <input class="btn btn-primary" type="submit" value="Post">  <!-- Submit button -->
        </form>
        <br>
    {% endif %}

    <!-- 	Remember that everyone should be able to see all posts, regardless of whether or not they are logged in.

	The href of the “All Posts” link on the navbar already has the value “{% url 'index' %}” in it. I don’t have to add
	the link to the “All Posts” navbar link.

	Now, I will at least show the posts in the “All Posts” page, without necessarily showing all the data from all
	the columns. I just want to make sure that I can display the posts on the main page.

	For that, I will have to display data using Jinja notation on the index.html file.

	I can show each of the columns for each post using Jinja notation. I can use “post.likes” or “post.username” to
	show each of the columns of each post.

	I will add a Bootstrap card or something similar to enclose each post in a rectangle shape. That will make it
	easier for users to distinguish each post. I will use the “card mb” class to create the Bootstrap card (source:
	https://getbootstrap.com/docs/4.4/components/card/ .) I will add a max-width to its CSS (using “rem” units) if it
	looks “ugly” on wide screens.

	I ended up using the red heart emoji as the icon that accompanies the like count. Source of the emoji code:
	https://emojipedia.org/red-heart/ .
    -->
    {% for post in all_posts %}
        <div class="card mb-3">
            <p><b>{{post.user}}</b></p>
            <p>Edit</p>
            <p>{{post.body}}</p>
            <p>{{post.timestamp}}</p>
            <p>❤ {{post.number_of_likes}}</p>
            <br>
        </div>

    {% endfor %}

    <br>
    <br>
    <!-- DEBUG code: This will let me test if React is working (source: 
    https://youtu.be/jrBhi8wbzPw  -->
    <div id="react-test"></div>

    <!-- DEBUG code: This will test if my code is actually detecting JS code -->
<!--    <script>-->
<!--        console.log("This JS code was executed directly into the index.html file.")-->
<!--    </script>-->


{% endblock %}

<!-- This will call the .js file, which contains all the JS code. Source:
https://cs50.harvard.edu/web/2020/projects/3/mail/ . 

I will add the "babel" attribute to it so that the browser is able to interpret 
the React code (source: https://youtu.be/jrBhi8wbzPw .) -->
<!-- {% block script %}
    <script src="{% static 'network/network_script.js' %}"></script>
{% endblock %} -->